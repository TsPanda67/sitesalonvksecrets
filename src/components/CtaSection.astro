---
// src/components/CtaSection.astro
// Pas besoin d'importer Button si le bouton est un simple lien <a> stylé
export interface Props {
  bgColor?: string;
  title: string;
  text: string;
  phone: string;
  phoneIcon?: string; // SVG en string
  secondaryText?: string;
}
const { 
  bgColor = "bg-accent-900", 
  title, 
  text, 
  phone, 
  phoneIcon,
  secondaryText
} = Astro.props;

// Récupérer les URLs des réseaux sociaux (vous pourriez les passer en props aussi)
const facebookUrl = "https://www.facebook.com/salonvksecrets"; // ou depuis une config globale
const instagramUrl = "https://www.instagram.com/salonvksecrets/";
---
<section class:list={["section-padding text-center", bgColor]}>
  <div class="container mx-auto px-4 max-w-3xl slide-up text-white">
    <h2 class="font-script text-4xl md:text-5xl mb-6">{title}</h2>
    <p class="font-sans text-xl mb-8 opacity-90">{text}</p>
    <div class="inline-block bg-white/10 backdrop-blur-sm px-6 py-4 rounded-lg shadow-soft">
      <p class="font-sans text-lg mb-2 opacity-90">Contactez-moi pour réserver votre soin :</p>
      <a 
        href={`tel:+33${phone.replace(/\s/g, '')}`} 
        class="text-2xl md:text-3xl font-sans font-semibold text-primary-300 hover:text-primary-200 transition-colors flex items-center justify-center gap-2 hover-lift"
        aria-label={`Appeler le ${phone}`}
      >
        {phoneIcon && <Fragment set:html={phoneIcon} />}
        {phone}
      </a>
    </div>
    {secondaryText && 
      <p class="font-sans text-sm mt-6 opacity-80">
        {secondaryText
          .replace('[Nom Facebook]', `<a href="${facebookUrl}" target="_blank" rel="noopener noreferrer" class="underline hover:text-primary-300">Facebook</a>`)
          .replace('[Nom Instagram]', `<a href="${instagramUrl}" target="_blank" rel="noopener noreferrer" class="underline hover:text-primary-300">Instagram</a>`)
        }
      </p>
    }
  </div>
</section>